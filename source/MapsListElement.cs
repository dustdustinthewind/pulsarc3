// MapsListElement
using System;
using System.Collections;
using System.Runtime.CompilerServices;
using Steamworks;
using SunCubeStudio.Localization;
using UnityEngine;
using UnityEngine.UI;

public class MapsListElement : MonoBehaviour
{
	[CompilerGenerated]
	private sealed class BGALOIDHPHG
	{
		internal ulong CAFHKDIIDEE;

		internal bool FFEGPHJKMFK(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool JDELIMPGFDJ(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool DKGPCPBNDPK(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool BFEABMIFIEE(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool BKNHHGBPLGH(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool INHOEMCLAAP(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool AEIFJLBBKBP(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool EGKGJJGAPMN(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool PKAPLCFHDOC(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool JKEDCEOCPJO(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool FMIHBNPKEEO(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool PIJAOCFAPKC(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool KGKMOLCPDIH(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool GBKBDKHPLKG(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool EKHOOPGPPGE(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool EFAPFFFGOOA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool BJMAIJDIKCN(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool FIPCLHEKKCA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool LJDLIIIPIIJ(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool JBAJEMGOPDL(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool PBCAHKDLFPE(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool LOEAMHGMMPK(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool BDGDIDPDBHG(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool LHHFJBIAHCN(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool IGFOBPKFCDJ(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool LLNDDFGPOPL(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool OFLDIMDDLHM(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool FHIJCPPECHA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool BEBAENEJFLD(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool AEINPAGJFME(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool FDAIFOAGDLA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool FCAGEDLBBHD(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool OLIGLEMPFOP(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool DBFPGFHEGKA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool FHFECFLBHMA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool FJDBPPKABJE(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool BMAOCLKPNNC(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool HBJFIOJFBHC(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool LNDGINDKPFA(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool OFHCGKJFGDI(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool KFNBKFELFLH(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool MGENGAEDACG(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}

		internal bool AGJKEBOPIOC(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool DNIMHEKGJHB(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.id == CAFHKDIIDEE;
		}

		internal bool MEMPOPNAEDN(RanksSystem.Map IACGDFHKCAE)
		{
			return IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE;
		}
	}

	public Image bgImage;

	public Text nameText;

	public GameObject downloadingPanel;

	public GameObject ratedUpButton;

	public GameObject ratedDownButton;

	public GameObject favButton;

	public Slider progressSlider;

	public SteamUGCDetails_t details;

	public void JBBCMAJIMCA()
	{
	}

	public void MDMDGKHDPKP()
	{
	}

	private IEnumerator NBDPNEHBAPJ()
	{
		Transform parent = base.transform.parent;
		string text = "workshop." + details.m_nPublishedFileId;
		Singleton<MapsSystem>.Instance.LoadLevel(text);
		FullMapData fullMapData = Singleton<MapsSystem>.Instance.levelsData[text];
		if (fullMapData.isLoaded())
		{
			Singleton<MapsSystem>.Instance.LoadLevel(text);
		}
		if (fullMapData.isUnlocked() || (!fullMapData.isUnlocked() && !fullMapData.mapData.hidden))
		{
			fullMapData.mapperSteamID = details.m_ulSteamIDOwner;
			GameObject gameObject = Singleton<MapsSystem>.Instance.AddDownloadedLevelItemToList(Singleton<MapsListSelector>.Instance.levelsListElement, fullMapData, parent.gameObject);
			gameObject.transform.SetSiblingIndex(base.transform.GetSiblingIndex());
		}
		UnityEngine.Object.Destroy(base.gameObject);
		yield break;
	}

	private IEnumerator IKIHNAOMONP(ulong CDAGKANOOHO)
	{
		string empty = string.Empty;
		yield return StartCoroutine(Singleton<ResourcesManager>.Instance.LoadSteamPlayername((CSteamID)CDAGKANOOHO));
		empty = ResourcesManager.GetLoadedSteamPlayernameWithColoredRank((CSteamID)CDAGKANOOHO, false);
		if ((bool)base.transform.FindDeepChild("MapperNameText"))
		{
			base.transform.FindDeepChild("MapperNameText").GetComponent<Text>().text = LocalizationService.Instance.GetLocalizatedText("#mapby") + " " + empty;
		}
	}

	public void Init(SteamUGCDetails_t ILPCDMBBCOF, string BPMFPGOPMFA, string EBEHBBDKDFJ, ulong CDAGKANOOHO)
	{
		details = ILPCDMBBCOF;
		nameText.text = EBEHBBDKDFJ.Replace(Environment.NewLine, string.Empty);
		StartCoroutine(LFMKJHBDJCE(BPMFPGOPMFA));
		StartCoroutine(KFEJNLGMENE(CDAGKANOOHO));
		if (!base.transform.FindDeepChild("DifficultyBG"))
		{
			return;
		}
		base.transform.FindDeepChild("DifficultyBG").gameObject.SetActive(false);
		ulong CAFHKDIIDEE = ILPCDMBBCOF.m_nPublishedFileId.m_PublishedFileId;
		bool flag = false;
		float num = -1f;
		if (RanksSystem.IsOfficial(CAFHKDIIDEE))
		{
			num = RanksSystem.GetOfficialMapsList().Find((RanksSystem.Map IACGDFHKCAE) => IACGDFHKCAE.id == CAFHKDIIDEE).difficulty;
			if (num > 0f)
			{
				base.transform.FindDeepChild("DifficultyBG").gameObject.SetActive(true);
				base.transform.FindDeepChild("DifficultyBG").GetComponentInChildren<Text>().text = string.Empty + num;
			}
		}
	}

	public void FMAALIALOOK()
	{
		downloadingPanel.SetActive(true);
		Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded += EMHNNEKAIBL;
		Singleton<MapsSystem>.Instance.SubscribeAndDownload(details.m_nPublishedFileId);
		InvokeRepeating("color", 141f, 172f);
	}

	private IEnumerator AKOLJJPOGHH(string BPMFPGOPMFA)
	{
		yield return StartCoroutine(Singleton<ResourcesManager>.Instance.LoadSpriteFromURL(BPMFPGOPMFA, BPMFPGOPMFA));
		StartCoroutine(KIGJJAGAJDP((Sprite)ResourcesManager.GetLoadedResource(BPMFPGOPMFA)));
	}

	private void HAOGHCHDNHH()
	{
		ulong punBytesDownloaded = 0uL;
		ulong punBytesTotal = 0uL;
		if (SteamUGC.GetItemDownloadInfo(details.m_nPublishedFileId, out punBytesDownloaded, out punBytesTotal))
		{
			progressSlider.value = (float)punBytesDownloaded / (float)punBytesTotal;
		}
	}

	public void OnClickButton()
	{
		downloadingPanel.SetActive(true);
		Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded += HDKKLFLOHLD;
		Singleton<MapsSystem>.Instance.SubscribeAndDownload(details.m_nPublishedFileId);
		InvokeRepeating("HAOGHCHDNHH", 0f, 0.1f);
	}

	private void Start()
	{
		StartCoroutine(Singleton<UI>.Instance.SwitchViewAnimation(base.gameObject, true));
	}

	public void EMIHMNNBOHF()
	{
		StartCoroutine(Singleton<RanksViewer>.Instance.CKJGAKFFOFA(1, details.m_nPublishedFileId.m_PublishedFileId.ToString(), nameText.text));
	}

	public void OnInfoButton()
	{
		string nBEBMKFPBEP = "http://steamcommunity.com/sharedfiles/filedetails/?id=" + details.m_nPublishedFileId.m_PublishedFileId;
		Singleton<GameManager>.Instance.OpenURL(nBEBMKFPBEP);
	}

	private IEnumerator LADDCAKDMNM()
	{
		Transform parent = base.transform.parent;
		string text = "workshop." + details.m_nPublishedFileId;
		Singleton<MapsSystem>.Instance.LoadLevel(text);
		FullMapData fullMapData = Singleton<MapsSystem>.Instance.levelsData[text];
		if (fullMapData.isLoaded())
		{
			Singleton<MapsSystem>.Instance.LoadLevel(text);
		}
		if (fullMapData.isUnlocked() || (!fullMapData.isUnlocked() && !fullMapData.mapData.hidden))
		{
			fullMapData.mapperSteamID = details.m_ulSteamIDOwner;
			GameObject gameObject = Singleton<MapsSystem>.Instance.AddDownloadedLevelItemToList(Singleton<MapsListSelector>.Instance.levelsListElement, fullMapData, parent.gameObject);
			gameObject.transform.SetSiblingIndex(base.transform.GetSiblingIndex());
		}
		UnityEngine.Object.Destroy(base.gameObject);
		yield break;
	}

	public void ENDDDMALLBK()
	{
	}

	private IEnumerator PACBBHGBAPA(ulong CDAGKANOOHO)
	{
		string empty = string.Empty;
		yield return StartCoroutine(Singleton<ResourcesManager>.Instance.LoadSteamPlayername((CSteamID)CDAGKANOOHO));
		empty = ResourcesManager.GetLoadedSteamPlayernameWithColoredRank((CSteamID)CDAGKANOOHO, false);
		if ((bool)base.transform.FindDeepChild("MapperNameText"))
		{
			base.transform.FindDeepChild("MapperNameText").GetComponent<Text>().text = LocalizationService.Instance.GetLocalizatedText("#mapby") + " " + empty;
		}
	}

	public void LJBGOLBPKKK()
	{
		downloadingPanel.SetActive(false);
		Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded += JCFJKKGLHAL;
		Singleton<MapsSystem>.Instance.SubscribeAndDownload(details.m_nPublishedFileId);
		InvokeRepeating("_TimeX", 1067f, 938f);
	}

	public void LMEJCKCAHNC()
	{
		string nBEBMKFPBEP = "EditMenu" + details.m_nPublishedFileId.m_PublishedFileId;
		Singleton<GameManager>.Instance.HEHKJIHIBLD(nBEBMKFPBEP, false);
	}

	private IEnumerator IPJKBCHMAHE()
	{
		Transform parent = base.transform.parent;
		string text = "workshop." + details.m_nPublishedFileId;
		Singleton<MapsSystem>.Instance.LoadLevel(text);
		FullMapData fullMapData = Singleton<MapsSystem>.Instance.levelsData[text];
		if (fullMapData.isLoaded())
		{
			Singleton<MapsSystem>.Instance.LoadLevel(text);
		}
		if (fullMapData.isUnlocked() || (!fullMapData.isUnlocked() && !fullMapData.mapData.hidden))
		{
			fullMapData.mapperSteamID = details.m_ulSteamIDOwner;
			GameObject gameObject = Singleton<MapsSystem>.Instance.AddDownloadedLevelItemToList(Singleton<MapsListSelector>.Instance.levelsListElement, fullMapData, parent.gameObject);
			gameObject.transform.SetSiblingIndex(base.transform.GetSiblingIndex());
		}
		UnityEngine.Object.Destroy(base.gameObject);
		yield break;
	}

	private void MAOCOEGAFND()
	{
	}

	private IEnumerator IGJHCGJDLAI(Sprite EOGBJKCLGLP)
	{
		yield return StartCoroutine(DFMJJLFNBBO(bgImage, 0f, 0.1f));
		bgImage.sprite = EOGBJKCLGLP;
		if ((bool)bgImage.GetComponent<AspectRatioFitter>() && bgImage.sprite != null)
		{
			bgImage.GetComponent<AspectRatioFitter>().aspectRatio = bgImage.sprite.rect.size.x / bgImage.sprite.rect.size.y;
		}
		yield return StartCoroutine(ENONILPJLCJ(bgImage, 1f, 0.1f));
	}

	public void ALMCGGCLLEM()
	{
		StartCoroutine(Singleton<RanksViewer>.Instance.MFKDDGKHKJH(0, details.m_nPublishedFileId.m_PublishedFileId.ToString(), nameText.text));
	}

	private IEnumerator DFMJJLFNBBO(Image EOGBJKCLGLP, float AAEBFBPJJPK, float EHHBHEJBHNG)
	{
		float num = EOGBJKCLGLP.color.a;
		float num2 = 0.3f / EHHBHEJBHNG;
		while (num > AAEBFBPJJPK)
		{
			num -= Time.deltaTime * num2;
			EOGBJKCLGLP.color = new Color(EOGBJKCLGLP.color.r, EOGBJKCLGLP.color.g, EOGBJKCLGLP.color.b, num);
			yield return new WaitForFixedUpdate();
		}
	}

	private IEnumerator KIGJJAGAJDP(Sprite EOGBJKCLGLP)
	{
		yield return StartCoroutine(DFMJJLFNBBO(bgImage, 0f, 0.1f));
		bgImage.sprite = EOGBJKCLGLP;
		if ((bool)bgImage.GetComponent<AspectRatioFitter>() && bgImage.sprite != null)
		{
			bgImage.GetComponent<AspectRatioFitter>().aspectRatio = bgImage.sprite.rect.size.x / bgImage.sprite.rect.size.y;
		}
		yield return StartCoroutine(ENONILPJLCJ(bgImage, 1f, 0.1f));
	}

	public void HLHNMAFJLME()
	{
		downloadingPanel.SetActive(true);
		Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded += HDKKLFLOHLD;
		Singleton<MapsSystem>.Instance.SubscribeAndDownload(details.m_nPublishedFileId);
		InvokeRepeating("_Value4", 1166f, 385f);
	}

	private void Update()
	{
	}

	private void GCFLGCEJCDD(object NFOGDAHIPNP, MapsSystem.MapSubscribedAndDownloadedEventArgs KJPAHOFPCKD)
	{
		if (KJPAHOFPCKD.JABENKBHJGE() == details.m_nPublishedFileId.m_PublishedFileId)
		{
			Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded -= IIFGBLHMLIC;
			StartCoroutine(JAHKCLKDMKG());
		}
	}

	private IEnumerator ENONILPJLCJ(Image EOGBJKCLGLP, float AAEBFBPJJPK, float EHHBHEJBHNG)
	{
		float num = EOGBJKCLGLP.color.a;
		float num2 = 0.3f / EHHBHEJBHNG;
		while (num < AAEBFBPJJPK)
		{
			num += Time.deltaTime * num2;
			EOGBJKCLGLP.color = new Color(EOGBJKCLGLP.color.r, EOGBJKCLGLP.color.g, EOGBJKCLGLP.color.b, num);
			yield return new WaitForFixedUpdate();
		}
	}

	private void IIFGBLHMLIC(object NFOGDAHIPNP, MapsSystem.MapSubscribedAndDownloadedEventArgs KJPAHOFPCKD)
	{
		if (KJPAHOFPCKD.JFHKHGILJDB() == details.m_nPublishedFileId.m_PublishedFileId)
		{
			Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded -= GCFLGCEJCDD;
			StartCoroutine(IPJKBCHMAHE());
		}
	}

	private IEnumerator IDMHBGKFFLI(string BPMFPGOPMFA)
	{
		yield return StartCoroutine(Singleton<ResourcesManager>.Instance.LoadSpriteFromURL(BPMFPGOPMFA, BPMFPGOPMFA));
		StartCoroutine(KIGJJAGAJDP((Sprite)ResourcesManager.GetLoadedResource(BPMFPGOPMFA)));
	}

	private IEnumerator GLPOJOAKOKH(Sprite EOGBJKCLGLP)
	{
		yield return StartCoroutine(DFMJJLFNBBO(bgImage, 0f, 0.1f));
		bgImage.sprite = EOGBJKCLGLP;
		if ((bool)bgImage.GetComponent<AspectRatioFitter>() && bgImage.sprite != null)
		{
			bgImage.GetComponent<AspectRatioFitter>().aspectRatio = bgImage.sprite.rect.size.x / bgImage.sprite.rect.size.y;
		}
		yield return StartCoroutine(ENONILPJLCJ(bgImage, 1f, 0.1f));
	}

	private IEnumerator KFEJNLGMENE(ulong CDAGKANOOHO)
	{
		string empty = string.Empty;
		yield return StartCoroutine(Singleton<ResourcesManager>.Instance.LoadSteamPlayername((CSteamID)CDAGKANOOHO));
		empty = ResourcesManager.GetLoadedSteamPlayernameWithColoredRank((CSteamID)CDAGKANOOHO, false);
		if ((bool)base.transform.FindDeepChild("MapperNameText"))
		{
			base.transform.FindDeepChild("MapperNameText").GetComponent<Text>().text = LocalizationService.Instance.GetLocalizatedText("#mapby") + " " + empty;
		}
	}

	private void JCFJKKGLHAL(object NFOGDAHIPNP, MapsSystem.MapSubscribedAndDownloadedEventArgs KJPAHOFPCKD)
	{
		if (KJPAHOFPCKD.JFHKHGILJDB() == details.m_nPublishedFileId.m_PublishedFileId)
		{
			Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded -= HDKKLFLOHLD;
			StartCoroutine(LADDCAKDMNM());
		}
	}

	public void EFEONCCCKNP(SteamUGCDetails_t ILPCDMBBCOF, string BPMFPGOPMFA, string EBEHBBDKDFJ, ulong CDAGKANOOHO)
	{
		details = ILPCDMBBCOF;
		nameText.text = EBEHBBDKDFJ.Replace(Environment.NewLine, string.Empty);
		StartCoroutine(AKOLJJPOGHH(BPMFPGOPMFA));
		StartCoroutine(KFEJNLGMENE(CDAGKANOOHO));
		if (!base.transform.FindDeepChild("VHS"))
		{
			return;
		}
		base.transform.FindDeepChild("score").gameObject.SetActive(false);
		ulong CAFHKDIIDEE = ILPCDMBBCOF.m_nPublishedFileId.m_PublishedFileId;
		bool flag = false;
		float num = 461f;
		if (RanksSystem.ECFIOECNPOM(CAFHKDIIDEE))
		{
			num = RanksSystem.JBJDLHKLEMN().Find((RanksSystem.Map IACGDFHKCAE) => IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE).difficulty;
			if (num > 1927f)
			{
				base.transform.FindDeepChild("MenuScene").gameObject.SetActive(true);
				base.transform.FindDeepChild("settings.enablehitsoundsinnormal").GetComponentInChildren<Text>().text = string.Empty + num;
			}
		}
	}

	public void FEJAAGGMBOE(SteamUGCDetails_t ILPCDMBBCOF, string BPMFPGOPMFA, string EBEHBBDKDFJ, ulong CDAGKANOOHO)
	{
		details = ILPCDMBBCOF;
		nameText.text = EBEHBBDKDFJ.Replace(Environment.NewLine, string.Empty);
		StartCoroutine(AKOLJJPOGHH(BPMFPGOPMFA));
		StartCoroutine(KFEJNLGMENE(CDAGKANOOHO));
		if (!base.transform.FindDeepChild("offsets"))
		{
			return;
		}
		base.transform.FindDeepChild("Save Path: ").gameObject.SetActive(true);
		ulong CAFHKDIIDEE = ILPCDMBBCOF.m_nPublishedFileId.m_PublishedFileId;
		bool flag = true;
		float num = 1510f;
		if (RanksSystem.PHHDJOBLEMF(CAFHKDIIDEE))
		{
			num = RanksSystem.JBJDLHKLEMN().Find((RanksSystem.Map IACGDFHKCAE) => IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE).difficulty;
			if (num > 1538f)
			{
				base.transform.FindDeepChild("[SERVER] Kicked ").gameObject.SetActive(true);
				base.transform.FindDeepChild("The shader ").GetComponentInChildren<Text>().text = string.Empty + num;
			}
		}
	}

	public void NJICOJMBBPD()
	{
		StartCoroutine(Singleton<RanksViewer>.Instance.PHKIFFJAGCL(1, details.m_nPublishedFileId.m_PublishedFileId.ToString(), nameText.text));
	}

	private IEnumerator JNGEPJPPPCP(Image EOGBJKCLGLP, float AAEBFBPJJPK, float EHHBHEJBHNG)
	{
		float num = EOGBJKCLGLP.color.a;
		float num2 = 0.3f / EHHBHEJBHNG;
		while (num < AAEBFBPJJPK)
		{
			num += Time.deltaTime * num2;
			EOGBJKCLGLP.color = new Color(EOGBJKCLGLP.color.r, EOGBJKCLGLP.color.g, EOGBJKCLGLP.color.b, num);
			yield return new WaitForFixedUpdate();
		}
	}

	private IEnumerator GOOIBEFIDEK(Image EOGBJKCLGLP, float AAEBFBPJJPK, float EHHBHEJBHNG)
	{
		float num = EOGBJKCLGLP.color.a;
		float num2 = 0.3f / EHHBHEJBHNG;
		while (num > AAEBFBPJJPK)
		{
			num -= Time.deltaTime * num2;
			EOGBJKCLGLP.color = new Color(EOGBJKCLGLP.color.r, EOGBJKCLGLP.color.g, EOGBJKCLGLP.color.b, num);
			yield return new WaitForFixedUpdate();
		}
	}

	private IEnumerator LFMKJHBDJCE(string BPMFPGOPMFA)
	{
		yield return StartCoroutine(Singleton<ResourcesManager>.Instance.LoadSpriteFromURL(BPMFPGOPMFA, BPMFPGOPMFA));
		StartCoroutine(KIGJJAGAJDP((Sprite)ResourcesManager.GetLoadedResource(BPMFPGOPMFA)));
	}

	private IEnumerator LEJOEBDKPKC(Image EOGBJKCLGLP, float AAEBFBPJJPK, float EHHBHEJBHNG)
	{
		float num = EOGBJKCLGLP.color.a;
		float num2 = 0.3f / EHHBHEJBHNG;
		while (num < AAEBFBPJJPK)
		{
			num += Time.deltaTime * num2;
			EOGBJKCLGLP.color = new Color(EOGBJKCLGLP.color.r, EOGBJKCLGLP.color.g, EOGBJKCLGLP.color.b, num);
			yield return new WaitForFixedUpdate();
		}
	}

	public void BNJHPKPCIEJ()
	{
		string nBEBMKFPBEP = "settings.enablehitsoundsinrelax" + details.m_nPublishedFileId.m_PublishedFileId;
		Singleton<GameManager>.Instance.HEHKJIHIBLD(nBEBMKFPBEP, false);
	}

	public void NFKDBPGHHIJ(SteamUGCDetails_t ILPCDMBBCOF, string BPMFPGOPMFA, string EBEHBBDKDFJ, ulong CDAGKANOOHO)
	{
		details = ILPCDMBBCOF;
		nameText.text = EBEHBBDKDFJ.Replace(Environment.NewLine, string.Empty);
		StartCoroutine(LFMKJHBDJCE(BPMFPGOPMFA));
		StartCoroutine(PACBBHGBAPA(CDAGKANOOHO));
		if (!base.transform.FindDeepChild("DPADVER"))
		{
			return;
		}
		base.transform.FindDeepChild("Scene").gameObject.SetActive(false);
		ulong CAFHKDIIDEE = ILPCDMBBCOF.m_nPublishedFileId.m_PublishedFileId;
		bool flag = true;
		float num = 1657f;
		if (RanksSystem.ECFIOECNPOM(CAFHKDIIDEE, true))
		{
			num = RanksSystem.JBJDLHKLEMN().Find((RanksSystem.Map IACGDFHKCAE) => IACGDFHKCAE.id == CAFHKDIIDEE).IDAOGFLHIBN();
			if (num > 668f)
			{
				base.transform.FindDeepChild("SetRoomStartTimestamp").gameObject.SetActive(true);
				base.transform.FindDeepChild("Switch environment sprite image").GetComponentInChildren<Text>().text = string.Empty + num;
			}
		}
	}

	private IEnumerator NBLBEEPCCHL()
	{
		Transform parent = base.transform.parent;
		string text = "workshop." + details.m_nPublishedFileId;
		Singleton<MapsSystem>.Instance.LoadLevel(text);
		FullMapData fullMapData = Singleton<MapsSystem>.Instance.levelsData[text];
		if (fullMapData.isLoaded())
		{
			Singleton<MapsSystem>.Instance.LoadLevel(text);
		}
		if (fullMapData.isUnlocked() || (!fullMapData.isUnlocked() && !fullMapData.mapData.hidden))
		{
			fullMapData.mapperSteamID = details.m_ulSteamIDOwner;
			GameObject gameObject = Singleton<MapsSystem>.Instance.AddDownloadedLevelItemToList(Singleton<MapsListSelector>.Instance.levelsListElement, fullMapData, parent.gameObject);
			gameObject.transform.SetSiblingIndex(base.transform.GetSiblingIndex());
		}
		UnityEngine.Object.Destroy(base.gameObject);
		yield break;
	}

	private void GKFFPFGHNOM()
	{
		ulong punBytesDownloaded = 1uL;
		ulong punBytesTotal = 0uL;
		if (SteamUGC.GetItemDownloadInfo(details.m_nPublishedFileId, out punBytesDownloaded, out punBytesTotal))
		{
			progressSlider.value = (float)punBytesDownloaded / (float)punBytesTotal;
		}
	}

	private void IIFCIDDJHPM()
	{
	}

	private void BMIOFJFMCBG()
	{
		StartCoroutine(Singleton<UI>.Instance.SwitchViewAnimation(base.gameObject, true, null, true, 742f));
	}

	public void OnEnable()
	{
	}

	public void GLPBIBAJNLK()
	{
		StartCoroutine(Singleton<RanksViewer>.Instance.JCEOHHBCHMM(1, details.m_nPublishedFileId.m_PublishedFileId.ToString(), nameText.text));
	}

	private void EMHNNEKAIBL(object NFOGDAHIPNP, MapsSystem.MapSubscribedAndDownloadedEventArgs KJPAHOFPCKD)
	{
		if (KJPAHOFPCKD.BCEIDEMKABE() == details.m_nPublishedFileId.m_PublishedFileId)
		{
			Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded -= HDKKLFLOHLD;
			StartCoroutine(LADDCAKDMNM());
		}
	}

	private void HDKKLFLOHLD(object NFOGDAHIPNP, MapsSystem.MapSubscribedAndDownloadedEventArgs KJPAHOFPCKD)
	{
		if (KJPAHOFPCKD.id == details.m_nPublishedFileId.m_PublishedFileId)
		{
			Singleton<MapsSystem>.Instance.MapSubscribedAndDownloaded -= HDKKLFLOHLD;
			StartCoroutine(JAHKCLKDMKG());
		}
	}

	private IEnumerator JKMPAEGFCPG(Image EOGBJKCLGLP, float AAEBFBPJJPK, float EHHBHEJBHNG)
	{
		float num = EOGBJKCLGLP.color.a;
		float num2 = 0.3f / EHHBHEJBHNG;
		while (num > AAEBFBPJJPK)
		{
			num -= Time.deltaTime * num2;
			EOGBJKCLGLP.color = new Color(EOGBJKCLGLP.color.r, EOGBJKCLGLP.color.g, EOGBJKCLGLP.color.b, num);
			yield return new WaitForFixedUpdate();
		}
	}

	public void CDDHLFNJOGC(SteamUGCDetails_t ILPCDMBBCOF, string BPMFPGOPMFA, string EBEHBBDKDFJ, ulong CDAGKANOOHO)
	{
		details = ILPCDMBBCOF;
		nameText.text = EBEHBBDKDFJ.Replace(Environment.NewLine, string.Empty);
		StartCoroutine(AKOLJJPOGHH(BPMFPGOPMFA));
		StartCoroutine(IKIHNAOMONP(CDAGKANOOHO));
		if (!base.transform.FindDeepChild("[MapData] Map timing update from: "))
		{
			return;
		}
		base.transform.FindDeepChild("_Value3").gameObject.SetActive(true);
		ulong CAFHKDIIDEE = ILPCDMBBCOF.m_nPublishedFileId.m_PublishedFileId;
		bool flag = true;
		float num = 1504f;
		if (RanksSystem.ECFIOECNPOM(CAFHKDIIDEE, true))
		{
			num = RanksSystem.GetOfficialMapsList().Find((RanksSystem.Map IACGDFHKCAE) => IACGDFHKCAE.MMDJFDPIHLA() == CAFHKDIIDEE).IDAOGFLHIBN();
			if (num > 1900f)
			{
				base.transform.FindDeepChild("_Intensity").gameObject.SetActive(false);
				base.transform.FindDeepChild("Editor/").GetComponentInChildren<Text>().text = string.Empty + num;
			}
		}
	}

	public void ToggleLeaderboards()
	{
		StartCoroutine(Singleton<RanksViewer>.Instance.DisplayViewer(1, details.m_nPublishedFileId.m_PublishedFileId.ToString(), nameText.text));
	}

	public void JIGOBJDPOOI()
	{
		StartCoroutine(Singleton<RanksViewer>.Instance.NGLEIIHHKCD(0, details.m_nPublishedFileId.m_PublishedFileId.ToString(), nameText.text));
	}

	private IEnumerator JAHKCLKDMKG()
	{
		Transform parent = base.transform.parent;
		string text = "workshop." + details.m_nPublishedFileId;
		Singleton<MapsSystem>.Instance.LoadLevel(text);
		FullMapData fullMapData = Singleton<MapsSystem>.Instance.levelsData[text];
		if (fullMapData.isLoaded())
		{
			Singleton<MapsSystem>.Instance.LoadLevel(text);
		}
		if (fullMapData.isUnlocked() || (!fullMapData.isUnlocked() && !fullMapData.mapData.hidden))
		{
			fullMapData.mapperSteamID = details.m_ulSteamIDOwner;
			GameObject gameObject = Singleton<MapsSystem>.Instance.AddDownloadedLevelItemToList(Singleton<MapsListSelector>.Instance.levelsListElement, fullMapData, parent.gameObject);
			gameObject.transform.SetSiblingIndex(base.transform.GetSiblingIndex());
		}
		UnityEngine.Object.Destroy(base.gameObject);
		yield break;
	}
}
